---
import LinkInline from "./LinkInline.astro";

interface Props {
  title: string;
  company: string;
  description: string;
  link?: string;
  date: string;
}

const { title, company, description, link, date } = Astro.props;
---

<div
  class="relative mx-10 pb-12 grid
    before:absolute before:left-[-34px] before:block before:h-full
    before:border-l before:border-amber-400/25 dark:before:border-amber-400/15
    before:content-['']
    md:grid-cols-5 md:gap-10"
>
  <div class="relative pb-2 md:col-span-2">
    <div class="md:sticky md:top-8">
      <!-- Amber timeline dot -->
      <div
        class="absolute -left-[42px] top-0.5 h-3.5 w-3.5 rounded-full bg-amber-400 dark:bg-amber-500 ring-4 ring-amber-400/20 dark:ring-amber-500/15"
      >
      </div>

      <h3
        class="text-[10px] font-bold tracking-widest uppercase text-amber-600 dark:text-amber-400 mb-1"
      >
        {title}
      </h3>
      <h4 class="text-xl font-bold text-gray-900 dark:text-white">
        {company}
      </h4>
      <time class="mt-1.5 block text-sm text-gray-500 dark:text-gray-500">
        {date}
      </time>
    </div>
  </div>

  <div
    class="relative flex flex-col gap-2 pb-4 text-gray-600 dark:text-gray-400 md:col-span-3 leading-relaxed text-[0.925rem]"
  >
    {description}
    {
      link && (
        <LinkInline href={link}>
          Ver sitio web{" "}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 inline"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M9 6l6 6l-6 6" />
          </svg>
        </LinkInline>
      )
    }
  </div>
</div>
